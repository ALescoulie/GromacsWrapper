<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Gromacs core modules &mdash; GromacsWrapper v0.1.8 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.8',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="GromacsWrapper v0.1.8 documentation" href="../index.html" />
    <link rel="up" title="Gromacs package" href="../gromacs.html" />
    <link rel="next" title="Wrapped Gromacs tools" href="tools.html" />
    <link rel="prev" title="gromacs – GromacsWrapper Package Overview" href="init.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="tools.html" title="Wrapped Gromacs tools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="init.html" title="gromacs – GromacsWrapper Package Overview"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">GromacsWrapper v0.1.8 documentation</a> &raquo;</li>
          <li><a href="../gromacs.html" accesskey="U">Gromacs package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-gromacs.utilities">
<h1>Gromacs core modules<a class="headerlink" href="#module-gromacs.utilities" title="Permalink to this headline">¶</a></h1>
<p>This section documents the modules, classes, and functions on which
the other parts of the package rely. The information is probably
mostly relevant to anyone who wants to extend the package.</p>
<div class="section" id="gromacs-core-core-functionality">
<h2><tt class="xref docutils literal"><span class="pre">gromacs.core</span></tt> &#8211; Core functionality<a class="headerlink" href="#gromacs-core-core-functionality" title="Permalink to this headline">¶</a></h2>
<p>Here the basic command class <a title="gromacs.core.GromacsCommand" class="reference" href="#gromacs.core.GromacsCommand"><tt class="xref docutils literal"><span class="pre">GromacsCommand</span></tt></a> is defined. All
Gromacs command classes in <a title="" class="reference" href="tools.html#module-gromacs.tools"><tt class="xref docutils literal"><span class="pre">gromacs.tools</span></tt></a> are automatically
generated from it.</p>
<dl class="class">
<dt id="gromacs.core.Command">
<em class="property">class </em><tt class="descclassname">gromacs.core.</tt><tt class="descname">Command</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.Command" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap simple script or command.</p>
<p>Set up the command class.</p>
<p>The arguments can always be provided as standard positional
arguments such as</p>
<blockquote>
<tt class="docutils literal"><span class="pre">&quot;-c&quot;,</span> <span class="pre">&quot;config.conf&quot;,</span> <span class="pre">&quot;-o&quot;,</span> <span class="pre">&quot;output.dat&quot;,</span> <span class="pre">&quot;--repeats=3&quot;,</span> <span class="pre">&quot;-v&quot;,</span> <span class="pre">&quot;input.dat&quot;</span></tt></blockquote>
<p>In addition one can also use keyword arguments such as</p>
<blockquote>
<tt class="docutils literal"><span class="pre">c=&quot;config.conf&quot;,</span> <span class="pre">o=&quot;output.dat&quot;,</span> <span class="pre">repeats=3,</span> <span class="pre">v=True</span></tt></blockquote>
<p>These are automatically transformed appropriately according to
simple rules:</p>
<ul class="simple">
<li>Any single-character keywords are assumed to be POSIX-style
options and will be prefixed with a single dash and the value
separated by a space.</li>
<li>Any other keyword is assumed to be a GNU-style long option
and thus will be prefixed with two dashes and the value will
be joined directly with an equals sign and no space.</li>
</ul>
<p>If this does not work (as for instance for the options of the
UNIX <tt class="docutils literal"><span class="pre">find</span></tt> command) then provide options and values in the
sequence of positional arguments.</p>
<dl class="method">
<dt id="gromacs.core.Command.__call__">
<tt class="descname">__call__</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.Command.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Run command with the given arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">rc</span><span class="p">,</span><span class="n">stdout</span><span class="p">,</span><span class="n">stderr</span> <span class="o">=</span> <span class="n">command</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="nb">input</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>All positional parameters *args and all gromacs **kwargs are passed on
to the Gromacs command. input and output keywords allow communication
with the process via the python subprocess module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Arguments:</th><td class="field-body"><dl class="first last docutils">
<dt><em>input</em> <span class="classifier-delimiter">:</span> <span class="classifier">string, sequence            </span></dt>
<dd><p class="first last">to be fed to the process&#8217; standard input;
elements of a sequence are concatenated with
newlines, including a trailing one    [<tt class="xref docutils literal"><span class="pre">None</span></tt>]</p>
</dd>
<dt><em>stdin</em></dt>
<dd><p class="first last"><tt class="xref docutils literal"><span class="pre">None</span></tt> or automatically set to <tt class="docutils literal"><span class="pre">PIPE</span></tt> if input given [<tt class="xref docutils literal"><span class="pre">None</span></tt>]</p>
</dd>
<dt><em>stdout</em></dt>
<dd><p class="first">how to handle the program&#8217;s stdout stream [<tt class="xref docutils literal"><span class="pre">None</span></tt>]</p>
<dl class="last docutils">
<dt>filehandle</dt>
<dd><p class="first last">anything that behaves like a file object</p>
</dd>
<dt><tt class="xref docutils literal"><span class="pre">None</span></tt> or <tt class="xref docutils literal"><span class="pre">True</span></tt></dt>
<dd><p class="first last">to see  output on screen</p>
</dd>
<dt><tt class="xref docutils literal"><span class="pre">False</span></tt> or <tt class="docutils literal"><span class="pre">PIPE</span></tt></dt>
<dd><p class="first last">returns the output as a string in  the stdout parameter</p>
</dd>
</dl>
</dd>
<dt><em>stderr</em></dt>
<dd><p class="first">how to handle the stderr stream [<tt class="docutils literal"><span class="pre">STDOUT</span></tt>]</p>
<dl class="last docutils">
<dt><tt class="docutils literal"><span class="pre">STDOUT</span></tt></dt>
<dd><p class="first last">merges standard error with the standard out stream</p>
</dd>
<dt><tt class="xref docutils literal"><span class="pre">False</span></tt> or <tt class="docutils literal"><span class="pre">PIPE</span></tt></dt>
<dd><p class="first last">returns the output as a string in the stderr return parameter</p>
</dd>
<dt><tt class="xref docutils literal"><span class="pre">None</span></tt> or <tt class="xref docutils literal"><span class="pre">True</span></tt></dt>
<dd><p class="first last">keeps it on stderr (and presumably on screen)</p>
</dd>
</dl>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p>All other kwargs are passed on to the Gromacs tool.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The shell return code rc of the command is always returned. Depending
on the value of output, various strings are filled with output from the
command.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Notes:</th><td class="field-body"><p class="first">By default, the process stdout and stderr are merged.</p>
<p>In order to chain different commands via pipes one must use the special
<a title="gromacs.core.PopenWithInput" class="reference" href="#gromacs.core.PopenWithInput"><tt class="xref docutils literal"><span class="pre">PopenWithInput</span></tt></a> object (see <a title="gromacs.core.GromacsCommand.Popen" class="reference" href="#gromacs.core.GromacsCommand.Popen"><tt class="xref docutils literal"><span class="pre">GromacsCommand.Popen()</span></tt></a> method) instead of the simple
call described here and first construct the pipeline explicitly and then
call the <a title="gromacs.core.PopenWithInput.communicate" class="reference" href="#gromacs.core.PopenWithInput.communicate"><tt class="xref docutils literal"><span class="pre">PopenWithInput.communicate()</span></tt></a> method.</p>
<p><tt class="docutils literal"><span class="pre">STDOUT</span></tt> and <tt class="docutils literal"><span class="pre">PIPE</span></tt> are objects provided by the <a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/subprocess.html#module-subprocess"><tt class="xref docutils literal"><span class="pre">subprocess</span></tt></a> module. Any
python stream can be provided and manipulated. This allows for chaining
of commands. Use</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">PIPE</span><span class="p">,</span> <span class="n">STDOUT</span>
</pre></div>
</div>
<p>when requiring these special streams (and the special boolean
switches <tt class="xref docutils literal"><span class="pre">True</span></tt>/<tt class="xref docutils literal"><span class="pre">False</span></tt> cannot do what you need.)</p>
<p class="last">(TODO: example for chaining commands)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gromacs.core.Command.run">
<tt class="descname">run</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.Command.run" title="Permalink to this definition">¶</a></dt>
<dd>Run the command; args/kwargs are added or replace the ones given to the constructor.</dd></dl>

<dl class="method">
<dt id="gromacs.core.Command.transform_args">
<tt class="descname">transform_args</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.Command.transform_args" title="Permalink to this definition">¶</a></dt>
<dd>Transform arguments and return them as a list suitable for Popen.</dd></dl>

<dl class="method">
<dt id="gromacs.core.Command.Popen">
<tt class="descname">Popen</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.Command.Popen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a special Popen instance (<a title="gromacs.core.PopenWithInput" class="reference" href="#gromacs.core.PopenWithInput"><tt class="xref docutils literal"><span class="pre">PopenWithInput</span></tt></a>).</p>
<p>The instance has its input pre-set so that calls to
<a title="gromacs.core.PopenWithInput.communicate" class="reference" href="#gromacs.core.PopenWithInput.communicate"><tt class="xref docutils literal"><span class="pre">communicate()</span></tt></a> will not need to supply
input. This is necessary if one wants to chain the output from
one command to an input from another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Todo:</th><td class="field-body">Write example.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gromacs.core.Command.help">
<tt class="descname">help</tt><big>(</big><em>long=False</em><big>)</big><a class="headerlink" href="#gromacs.core.Command.help" title="Permalink to this definition">¶</a></dt>
<dd>Print help; same as using <tt class="docutils literal"><span class="pre">?</span></tt> in <tt class="docutils literal"><span class="pre">ipython</span></tt>. long=True also gives call signature.</dd></dl>

<dl class="attribute">
<dt id="gromacs.core.Command.command_name">
<tt class="descname">command_name</tt><a class="headerlink" href="#gromacs.core.Command.command_name" title="Permalink to this definition">¶</a></dt>
<dd>Derive a class from command; typically one only has to set <em>command_name</em>
to the name of the script or executable. The full path is required if it
cannot be found by searching <span class="target" id="index-2"></span><strong>PATH</strong>.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.core.GromacsCommand">
<em class="property">class </em><tt class="descclassname">gromacs.core.</tt><tt class="descname">GromacsCommand</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.GromacsCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for wrapping a g_* command.</p>
<p>Limitations: User must have sourced <tt class="docutils literal"><span class="pre">GMXRC</span></tt> so that the python script can
inherit the environment and find the gromacs programs.</p>
<p>The class doc string is dynamically replaced by the documentation of the
gromacs command when an instance is created.</p>
<p>Set up the command with gromacs flags as keyword arguments.</p>
<p>The following  are generic instructions; refer  to the Gromacs
command  usage information  that should  have  appeared before
this generic documentation.</p>
<p>As an example, a generic Gromacs command could use the following flags:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cmd</span> <span class="o">=</span> <span class="n">GromacsCommand</span><span class="p">(</span><span class="s">&#39;v&#39;</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;md1.xtc&#39;</span><span class="p">,</span><span class="s">&#39;md2.xtc&#39;</span><span class="p">],</span> <span class="n">o</span><span class="o">=</span><span class="s">&#39;processed.xtc&#39;</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>which would correspond to running the command in the shell as</p>
<div class="highlight-python"><pre>GromacsCommand -v -f md1.xtc md2.xtc -o processed.xtc -t 200</pre>
</div>
<p><strong>Gromacs command line arguments</strong></p>
<blockquote>
<p>Gromacs boolean switches (such as <tt class="docutils literal"><span class="pre">-v</span></tt>) are given as python
positional arguments (<tt class="docutils literal"><span class="pre">'v'</span></tt>) or as keyword argument (<tt class="docutils literal"><span class="pre">v=True</span></tt>);
note the quotes in the first case. Negating a boolean switch can be
done with <tt class="docutils literal"><span class="pre">'nov'</span></tt>, <tt class="docutils literal"><span class="pre">nov=True</span></tt> or <tt class="docutils literal"><span class="pre">v=False</span></tt> (and even <tt class="docutils literal"><span class="pre">nov=False</span></tt>
works as expected: it is the same as <tt class="docutils literal"><span class="pre">v=True</span></tt>).</p>
<p>Any Gromacs options that take parameters are handled as keyword
arguments. If an option takes multiple arguments (such as the
multi-file input <tt class="docutils literal"><span class="pre">-f</span> <span class="pre">file1</span> <span class="pre">file2</span> <span class="pre">...</span></tt>) then the list of files must be
supplied as a python list.</p>
<p>If a keyword has the python value <tt class="xref docutils literal"><span class="pre">None</span></tt> then it will <em>not</em> be
added to the Gromacs command line; this allows for flexible
scripting if it is not known in advance if an input file is
needed. In this case the default value of the gromacs tool
is used.</p>
<p>Keywords must be legal python keywords or the interpreter raises a
<a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/exceptions.html#exceptions.SyntaxError"><tt class="xref docutils literal"><span class="pre">SyntaxError</span></tt></a> but of course Gromacs commandline arguments are
not required to be legal python. In this case &#8220;quote&#8221; the option
with an underscore (<tt class="docutils literal"><span class="pre">_</span></tt>) and the underscore will be silently
stripped. For instance, <tt class="docutils literal"><span class="pre">-or</span></tt> translates to the illegal keyword
<tt class="docutils literal"><span class="pre">or</span></tt> so it must be underscore-quoted:</p>
<div class="highlight-python"><pre>cmd(...., _or='mindistres.xvg')</pre>
</div>
</blockquote>
<p><strong>Command execution</strong></p>
<blockquote>
<p>The command is executed with the <a title="gromacs.core.GromacsCommand.run" class="reference" href="#gromacs.core.GromacsCommand.run"><tt class="xref docutils literal"><span class="pre">run()</span></tt></a> method or by
calling it as a function. The two next lines are equivalent:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cmd</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">cmd</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>When the command is run one can override options that were given at
initialization or one can add additional ones. The same rules for
supplying Gromacs flags apply as described above.</p>
</blockquote>
<p><strong>Non-Gromacs keyword arguments</strong></p>
<blockquote>
The other keyword arguments (listed below) are not passed on to the
Gromacs tool but determine how the command class behaves. They are
only useful when instantiating a class. This is mostly of interest
to developers.</blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Keywords:</th><td class="field-body"><dl class="first last docutils">
<dt><em>failure</em></dt>
<dd><p class="first">determines how a failure of the gromacs command is treated; it
can be one of the following:</p>
<dl class="last docutils">
<dt>&#8216;raise&#8217;</dt>
<dd><p class="first last">raises GromacsError if command fails</p>
</dd>
<dt>&#8216;warn&#8217;</dt>
<dd><p class="first last">issue a <tt class="xref docutils literal"><span class="pre">GromacsFailureWarning</span></tt></p>
</dd>
<dt><tt class="xref docutils literal"><span class="pre">None</span></tt></dt>
<dd><p class="first last">just continue silently</p>
</dd>
</dl>
</dd>
<dt><em>doc</em> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">additional documentation []</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gromacs.core.GromacsCommand.Popen">
<tt class="descname">Popen</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.GromacsCommand.Popen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a special Popen instance (<a title="gromacs.core.PopenWithInput" class="reference" href="#gromacs.core.PopenWithInput"><tt class="xref docutils literal"><span class="pre">PopenWithInput</span></tt></a>).</p>
<p>The instance has its input pre-set so that calls to
<a title="gromacs.core.PopenWithInput.communicate" class="reference" href="#gromacs.core.PopenWithInput.communicate"><tt class="xref docutils literal"><span class="pre">communicate()</span></tt></a> will not need to supply
input. This is necessary if one wants to chain the output from
one command to an input from another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Todo:</th><td class="field-body">Write example.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gromacs.core.GromacsCommand.commandline">
<tt class="descname">commandline</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.GromacsCommand.commandline" title="Permalink to this definition">¶</a></dt>
<dd>Returns the commandline that run() uses (without pipes).</dd></dl>

<dl class="attribute">
<dt id="gromacs.core.GromacsCommand.failuremodes">
<tt class="descname">failuremodes</tt><a class="headerlink" href="#gromacs.core.GromacsCommand.failuremodes" title="Permalink to this definition">¶</a></dt>
<dd>Available failure modes.</dd></dl>

<dl class="attribute">
<dt id="gromacs.core.GromacsCommand.gmxdoc">
<tt class="descname">gmxdoc</tt><a class="headerlink" href="#gromacs.core.GromacsCommand.gmxdoc" title="Permalink to this definition">¶</a></dt>
<dd>Usage for the underlying Gromacs tool (cached).</dd></dl>

<dl class="method">
<dt id="gromacs.core.GromacsCommand.help">
<tt class="descname">help</tt><big>(</big><em>long=False</em><big>)</big><a class="headerlink" href="#gromacs.core.GromacsCommand.help" title="Permalink to this definition">¶</a></dt>
<dd>Print help; same as using <tt class="docutils literal"><span class="pre">?</span></tt> in <tt class="docutils literal"><span class="pre">ipython</span></tt>. long=True also gives call signature.</dd></dl>

<dl class="method">
<dt id="gromacs.core.GromacsCommand.run">
<tt class="descname">run</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.GromacsCommand.run" title="Permalink to this definition">¶</a></dt>
<dd>Run the command; args/kwargs are added or replace the ones given to the constructor.</dd></dl>

<dl class="method">
<dt id="gromacs.core.GromacsCommand.transform_args">
<tt class="descname">transform_args</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.GromacsCommand.transform_args" title="Permalink to this definition">¶</a></dt>
<dd>Combine arguments and turn them into gromacs tool arguments.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.core.PopenWithInput">
<em class="property">class </em><tt class="descclassname">gromacs.core.</tt><tt class="descname">PopenWithInput</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.core.PopenWithInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Popen class that knows its input.</p>
<ol class="arabic simple">
<li>Set up the instance, including all the input it shoould receive.</li>
<li>Call <a title="gromacs.core.PopenWithInput.communicate" class="reference" href="#gromacs.core.PopenWithInput.communicate"><tt class="xref docutils literal"><span class="pre">PopenWithInput.communicate()</span></tt></a> later.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Some versions of python have a bug in the subprocess module
( <a class="reference" href="http://bugs.python.org/issue5179">issue 5179</a> ) which does not clean up open file
descriptors. Eventually code (such as this one) fails with the
error:</p>
<blockquote>
<em>OSError: [Errno 24] Too many open files</em></blockquote>
<p class="last">A weak workaround is to increase the available number of open
file descriptors with <tt class="docutils literal"><span class="pre">ulimit</span> <span class="pre">-n</span> <span class="pre">2048</span></tt> and run analysis in
different scripts.</p>
</div>
<p>Initialize with the standard <a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/subprocess.html#subprocess.Popen"><tt class="xref docutils literal"><span class="pre">subprocess.Popen</span></tt></a> arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Keywords:</th><td class="field-body"><dl class="first last docutils">
<dt><em>input</em></dt>
<dd><p class="first last">string that is piped into the command</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gromacs.core.PopenWithInput.communicate">
<tt class="descname">communicate</tt><big>(</big><em>use_input=True</em><big>)</big><a class="headerlink" href="#gromacs.core.PopenWithInput.communicate" title="Permalink to this definition">¶</a></dt>
<dd>Run the command, using the input that was set up on __init__ (for <em>use_input</em> = <tt class="xref docutils literal"><span class="pre">True</span></tt>)</dd></dl>

</dd></dl>

</div>
<div class="section" id="gromacs-config-configuration-for-gromacswrapper">
<h2><tt class="xref docutils literal"><span class="pre">gromacs.config</span></tt> &#8211; Configuration for GromacsWrapper<a class="headerlink" href="#gromacs-config-configuration-for-gromacswrapper" title="Permalink to this headline">¶</a></h2>
<p>The config module provides configurable options for the whole package;
eventually it might grow into a sophisticated configuration system such as
matplotlib&#8217;s rc system but right now it mostly serves to define which gromacs
tools and other scripts are offered in the package and where template files are
located. If the user wants to change anything they will still have to do it
here in source until a better mechanism with rc files has been implemented.</p>
<p>User-supplied templates are stored under
<a title="gromacs.config.configdir" class="reference" href="#gromacs.config.configdir"><tt class="xref docutils literal"><span class="pre">gromacs.config.configdir</span></tt></a>. Eventually this will also contain the
configuration options currently hard-coded in <tt class="xref docutils literal"><span class="pre">gromacs.config</span></tt>.</p>
<dl class="data">
<dt id="gromacs.config.configdir">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">configdir</tt><a class="headerlink" href="#gromacs.config.configdir" title="Permalink to this definition">¶</a></dt>
<dd>Directory to store user templates and rc files.</dd></dl>

<dl class="data">
<dt id="gromacs.config.path">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">path</tt><a class="headerlink" href="#gromacs.config.path" title="Permalink to this definition">¶</a></dt>
<dd>Search path for queuing scripts and templates. The internal package-supplied
templates are always searcheded last via <a title="gromacs.config.get_templates" class="reference" href="#gromacs.config.get_templates"><tt class="xref docutils literal"><span class="pre">gromacs.config.get_templates()</span></tt></a>.
Modify <a title="gromacs.config.path" class="reference" href="#gromacs.config.path"><tt class="xref docutils literal"><span class="pre">gromacs.config.path</span></tt></a> directly in order to customize the template
and qscript searching.
(Note that it is not a good idea to have templates and qscripts with the
same name as they are both searched on the same path.)</dd></dl>

<div class="section" id="logging">
<h3>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h3>
<p>Gromacs commands log their invocation to a log file; typically at
loglevel <em>INFO</em> (see the python <a class="reference" href="http://docs.python.org/library/logging.html">logging module</a> for details).</p>
<dl class="data">
<dt id="gromacs.config.logfilename">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">logfilename</tt><a class="headerlink" href="#gromacs.config.logfilename" title="Permalink to this definition">¶</a></dt>
<dd>File name for the log file; all gromacs command and many utility functions (e.g. in
<a title="" class="reference" href="blocks/cbook.html#module-gromacs.cbook"><tt class="xref docutils literal"><span class="pre">gromacs.cbook</span></tt></a> and <a title="" class="reference" href="blocks/setup.html#module-gromacs.setup"><tt class="xref docutils literal"><span class="pre">gromacs.setup</span></tt></a>) append messages there. Warnings and
errors are also recorded here. The default is <em>gromacs.log</em>.</dd></dl>

<dl class="data">
<dt id="gromacs.config.loglevel_console">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">loglevel_console</tt><a class="headerlink" href="#gromacs.config.loglevel_console" title="Permalink to this definition">¶</a></dt>
<dd>The default loglevel that is still printed to the console.</dd></dl>

<dl class="data">
<dt id="gromacs.config.loglevel_file">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">loglevel_file</tt><a class="headerlink" href="#gromacs.config.loglevel_file" title="Permalink to this definition">¶</a></dt>
<dd>The default loglevel that is still written to the <a title="gromacs.config.logfilename" class="reference" href="#gromacs.config.logfilename"><tt class="xref docutils literal"><span class="pre">logfilename</span></tt></a>.</dd></dl>

</div>
<div class="section" id="gromacs-tools-and-scripts">
<h3>Gromacs tools and scripts<a class="headerlink" href="#gromacs-tools-and-scripts" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">load_*</span></tt> variables are lists that contain instructions to other
parts of the code which packages and scripts should be wrapped.</p>
<dl class="data">
<dt id="gromacs.config.load_tools">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">load_tools</tt><a class="headerlink" href="#gromacs.config.load_tools" title="Permalink to this definition">¶</a></dt>
<dd>Python list of all tool file names. Automatically filled from <a title="gromacs.config.gmx_tools" class="reference" href="#gromacs.config.gmx_tools"><tt class="xref docutils literal"><span class="pre">gmx_tools</span></tt></a>
and <a title="gromacs.config.gmx_extra_tools" class="reference" href="#gromacs.config.gmx_extra_tools"><tt class="xref docutils literal"><span class="pre">gmx_extra_tools</span></tt></a>, depending on the values in
<a title="gromacs.config.gmx_tool_groups" class="reference" href="#gromacs.config.gmx_tool_groups"><tt class="xref docutils literal"><span class="pre">gmx_tool_groups</span></tt></a>.</dd></dl>

<dl class="data">
<dt id="gromacs.config.load_scripts">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">load_scripts</tt><a class="headerlink" href="#gromacs.config.load_scripts" title="Permalink to this definition">¶</a></dt>
<dd><p>3rd party analysis scripts and tools; this is a list of triplets of</p>
<blockquote>
(<em>script name/path</em>, <em>command name</em>, <em>doc string</em>)</blockquote>
<p>(See the source code for examples.)</p>
</dd></dl>

<p><a title="gromacs.config.load_tools" class="reference" href="#gromacs.config.load_tools"><tt class="xref docutils literal"><span class="pre">load_tools</span></tt></a> is populated by listing <tt class="docutils literal"><span class="pre">gmx_*</span></tt> tool group variables in
<a title="gromacs.config.gmx_tool_groups" class="reference" href="#gromacs.config.gmx_tool_groups"><tt class="xref docutils literal"><span class="pre">gmx_tool_groups</span></tt></a>.</p>
<dl class="data">
<dt id="gromacs.config.gmx_tool_groups">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">gmx_tool_groups</tt><a class="headerlink" href="#gromacs.config.gmx_tool_groups" title="Permalink to this definition">¶</a></dt>
<dd>List of the variables in gromacs.tools that should be loaded. Possible values:
<em>gmx_tools</em>, <em>gmx_extra_tools</em>. Right now these are variable names in
<tt class="xref docutils literal"><span class="pre">gromacs.config</span></tt>, referencing <a title="gromacs.config.gmx_tools" class="reference" href="#gromacs.config.gmx_tools"><tt class="xref docutils literal"><span class="pre">gromacs.config.gmx_tools</span></tt></a> and
<a title="gromacs.config.gmx_extra_tools" class="reference" href="#gromacs.config.gmx_extra_tools"><tt class="xref docutils literal"><span class="pre">gromacs.config.gmx_extra_tools</span></tt></a>.</dd></dl>

<p>The tool groups variables are strings that contain white-space separated file
names of Gromacs tools. These lists determine which tools are made available as
classes in <a title="" class="reference" href="tools.html#module-gromacs.tools"><tt class="xref docutils literal"><span class="pre">gromacs.tools</span></tt></a>.</p>
<dl class="data">
<dt id="gromacs.config.gmx_tools">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">gmx_tools</tt><a class="headerlink" href="#gromacs.config.gmx_tools" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the file names of all Gromacs tools for which classes are generated.
Editing this list has only an effect when the package is reloaded.  If you want
additional tools then add the, to the source (<tt class="docutils literal"><span class="pre">config.py</span></tt>) or derive new
classes manually from <a title="gromacs.core.GromacsCommand" class="reference" href="#gromacs.core.GromacsCommand"><tt class="xref docutils literal"><span class="pre">gromacs.core.GromacsCommand</span></tt></a>.  (Eventually, this
functionality will be in a per-user configurable file.)  The current list was
generated from Gromacs 4.0.99 (git).
Removed (because of various issues)</p>
<blockquote>
<ul class="simple">
<li>g_kinetics</li>
</ul>
</blockquote>
</dd></dl>

<dl class="data">
<dt id="gromacs.config.gmx_extra_tools">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">gmx_extra_tools</tt><a class="headerlink" href="#gromacs.config.gmx_extra_tools" title="Permalink to this definition">¶</a></dt>
<dd>Additional gromacs tools (add <em>gmx_extra_tools</em> to
<a title="gromacs.config.gmx_tool_groups" class="reference" href="#gromacs.config.gmx_tool_groups"><tt class="xref docutils literal"><span class="pre">gromacs.config.gmx_tool_groups</span></tt></a> to enable them, provided the binaries
have been provided on the <span class="target" id="index-3"></span><strong>PATH</strong>).</dd></dl>

</div>
<div class="section" id="location-of-template-files">
<h3>Location of template files<a class="headerlink" href="#location-of-template-files" title="Permalink to this headline">¶</a></h3>
<p><em>Template variables</em> list files in the package that can be used as
templates such as run input files. Because the package can be a zipped
egg we actually have to unwrap these files at this stage but this is
completely transparent to the user.</p>
<dl class="data">
<dt id="gromacs.config.qscriptdir">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">qscriptdir</tt><a class="headerlink" href="#gromacs.config.qscriptdir" title="Permalink to this definition">¶</a></dt>
<dd>Directory to store user supplied queuing system scripts.</dd></dl>

<dl class="data">
<dt id="gromacs.config.templatesdir">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">templatesdir</tt><a class="headerlink" href="#gromacs.config.templatesdir" title="Permalink to this definition">¶</a></dt>
<dd>Directory to store user supplied template files such as mdp files.</dd></dl>

<dl class="data">
<dt id="gromacs.config.templates">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">templates</tt><a class="headerlink" href="#gromacs.config.templates" title="Permalink to this definition">¶</a></dt>
<dd><p><em>GromacsWrapper</em> comes with a number of templates for run input files
and queuing system scripts. They are provided as a convenience and
examples but <strong>WITHOUT ANY GUARANTEE FOR CORRECTNESS OR SUITABILITY FOR
ANY PURPOSE</strong>.</p>
<p>All template filenames are stored in
<a title="gromacs.config.templates" class="reference" href="#gromacs.config.templates"><tt class="xref docutils literal"><span class="pre">gromacs.config.templates</span></tt></a>. Templates have to be extracted from
the GromacsWrapper python egg file because they are used by external
code: find the actual file locations from this variable.</p>
<p><strong>Gromacs mdp templates</strong></p>
<blockquote>
<p>These are supplied as examples and there is <strong>NO GUARANTEE THAT THEY
PRODUCE SENSIBLE OUTPUT</strong> &#8212; check for yourself!  Note that only
existing parameter names can be modified with
<a title="gromacs.cbook.edit_mdp" class="reference" href="blocks/cbook.html#gromacs.cbook.edit_mdp"><tt class="xref docutils literal"><span class="pre">gromacs.cbook.edit_mdp()</span></tt></a> at the moment; if in doubt add the
parameter with its gromacs default value (or empty values) and
modify later with <a title="gromacs.cbook.edit_mdp" class="reference" href="blocks/cbook.html#gromacs.cbook.edit_mdp"><tt class="xref docutils literal"><span class="pre">edit_mdp()</span></tt></a>.</p>
<p>The safest bet is to use one of the <tt class="docutils literal"><span class="pre">mdout.mdp</span></tt> files produced by
<tt class="xref docutils literal"><span class="pre">gromacs.grompp()</span></tt> as a template as this mdp contains all
parameters that are legal in the current version of Gromacs.</p>
</blockquote>
<p><strong>Queuing system templates</strong></p>
<blockquote>
The queing system scripts are highly specific and you will need to add your
own into <a title="gromacs.config.qscriptdir" class="reference" href="#gromacs.config.qscriptdir"><tt class="xref docutils literal"><span class="pre">gromacs.config.qscriptdir</span></tt></a>.
See <a title="" class="reference" href="blocks/qsub.html#module-gromacs.qsub"><tt class="xref docutils literal"><span class="pre">gromacs.qsub</span></tt></a> for the format and how these files are processed.</blockquote>
</dd></dl>

<dl class="data">
<dt id="gromacs.config.qscript_template">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">qscript_template</tt><a class="headerlink" href="#gromacs.config.qscript_template" title="Permalink to this definition">¶</a></dt>
<dd>The default template for SGE/PBS run scripts.</dd></dl>

</div>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<p>The following functions can be used to access configuration data. Note that
files are searched first with their full filename, then in all directories
listed in <a title="gromacs.config.path" class="reference" href="#gromacs.config.path"><tt class="xref docutils literal"><span class="pre">gromacs.config.path</span></tt></a>, and finally within the package itself.</p>
<dl class="function">
<dt id="gromacs.config.get_template">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">get_template</tt><big>(</big><em>t</em><big>)</big><a class="headerlink" href="#gromacs.config.get_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Find template file <em>t</em> and return its real path.</p>
<p><em>t</em> can be a single string or a list of strings. A string
should be one of</p>
<ol class="arabic simple">
<li>a relative or absolute path,</li>
<li>a file in one of the directories listed in <a title="gromacs.config.path" class="reference" href="#gromacs.config.path"><tt class="xref docutils literal"><span class="pre">gromacs.config.path</span></tt></a>,</li>
<li>a filename in the package template directory (defined in the template dictionary
<a title="gromacs.config.templates" class="reference" href="#gromacs.config.templates"><tt class="xref docutils literal"><span class="pre">gromacs.config.templates</span></tt></a>) or</li>
<li>a key into <a title="gromacs.config.templates" class="reference" href="#gromacs.config.templates"><tt class="xref docutils literal"><span class="pre">templates</span></tt></a>.</li>
</ol>
<p>The first match (in this order) is returned. If the argument is a
single string then a single string is returned, otherwise a list
of strings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Arguments:</th><td class="field-body"><em>t</em> : template file or key (string or list of strings)</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">os.path.realpath(<em>t</em>) (or a list thereof)</td>
</tr>
<tr class="field"><th class="field-name">Raises:</th><td class="field-body"><a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/exceptions.html#exceptions.ValueError"><tt class="xref docutils literal"><span class="pre">ValueError</span></tt></a> if no file can be located.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gromacs.config.get_templates">
<tt class="descclassname">gromacs.config.</tt><tt class="descname">get_templates</tt><big>(</big><em>t</em><big>)</big><a class="headerlink" href="#gromacs.config.get_templates" title="Permalink to this definition">¶</a></dt>
<dd><p>Find template file(s) <em>t</em> and return their real paths.</p>
<p><em>t</em> can be a single string or a list of strings. A string should
be one of</p>
<ol class="arabic simple">
<li>a relative or absolute path,</li>
<li>a file in one of the directories listed in <a title="gromacs.config.path" class="reference" href="#gromacs.config.path"><tt class="xref docutils literal"><span class="pre">gromacs.config.path</span></tt></a>,</li>
<li>a filename in the package template directory (defined in the template dictionary
<a title="gromacs.config.templates" class="reference" href="#gromacs.config.templates"><tt class="xref docutils literal"><span class="pre">gromacs.config.templates</span></tt></a>) or</li>
<li>a key into <a title="gromacs.config.templates" class="reference" href="#gromacs.config.templates"><tt class="xref docutils literal"><span class="pre">templates</span></tt></a>.</li>
</ol>
<p>The first match (in this order) is returned for each input argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Arguments:</th><td class="field-body"><em>t</em> : template file or key (string or list of strings)</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">list of os.path.realpath(<em>t</em>)</td>
</tr>
<tr class="field"><th class="field-name">Raises:</th><td class="field-body"><a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/exceptions.html#exceptions.ValueError"><tt class="xref docutils literal"><span class="pre">ValueError</span></tt></a> if no file can be located.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="gromacs-tools-gromacs-commands-classes">
<h2><a title="" class="reference" href="tools.html#module-gromacs.tools"><tt class="xref docutils literal"><span class="pre">gromacs.tools</span></tt></a> &#8211; Gromacs commands classes<a class="headerlink" href="#gromacs-tools-gromacs-commands-classes" title="Permalink to this headline">¶</a></h2>
<p>A Gromacs command class can be thought of as a factory function that
produces an instance of a gromacs command
(<a title="gromacs.core.GromacsCommand" class="reference" href="#gromacs.core.GromacsCommand"><tt class="xref docutils literal"><span class="pre">gromacs.core.GromacsCommand</span></tt></a>) with initial default values.</p>
<p>By convention, a class has the capitalized name of the corresponding Gromacs
tool; dots are replaced by underscores to make it a valid python identifier.</p>
<p>The list of Gromacs tools to be loaded is configured in
<a title="gromacs.config.gmx_tool_groups" class="reference" href="#gromacs.config.gmx_tool_groups"><tt class="xref docutils literal"><span class="pre">gromacs.config.gmx_tool_groups</span></tt></a>.</p>
<p>It is also possible to extend the basic commands and patch in additional
functionality. For example, the <a title="gromacs.tools.GromacsCommandMultiIndex" class="reference" href="tools.html#gromacs.tools.GromacsCommandMultiIndex"><tt class="xref docutils literal"><span class="pre">GromacsCommandMultiIndex</span></tt></a> class makes a
command accept multiple index files and concatenates them on the fly; the
behaviour mimics Gromacs&#8217; &#8220;multi-file&#8221; input that has not yet been enabled for
all tools.</p>
<dl class="class">
<dt id="gromacs.tools.GromacsCommandMultiIndex">
<em class="property">class </em><tt class="descclassname">gromacs.tools.</tt><tt class="descname">GromacsCommandMultiIndex</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.tools.GromacsCommandMultiIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize instance.</p>
<ol class="arabic simple">
<li>Sets up the combined index file.</li>
<li>Inititialize <a title="gromacs.core.GromacsCommand" class="reference" href="#gromacs.core.GromacsCommand"><tt class="xref docutils literal"><span class="pre">GromacsCommand</span></tt></a> with the 
new index file.</li>
</ol>
<p>See the documentation for <a title="gromacs.core.GromacsCommand" class="reference" href="#gromacs.core.GromacsCommand"><tt class="xref docutils literal"><span class="pre">gromacs.core.GromacsCommand</span></tt></a> for details.</p>
<dl class="method">
<dt id="gromacs.tools.GromacsCommandMultiIndex.run">
<tt class="descname">run</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.tools.GromacsCommandMultiIndex.run" title="Permalink to this definition">¶</a></dt>
<dd>Run the command; make a combined multi-index file if necessary.</dd></dl>

<dl class="method">
<dt id="gromacs.tools.GromacsCommandMultiIndex._fake_multi_ndx">
<tt class="descname">_fake_multi_ndx</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.tools.GromacsCommandMultiIndex._fake_multi_ndx" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine multiple index file into a single one and return appropriate kwargs.</p>
<p>Calling the method combines multiple index files into a a single
temporary one so that Gromacs tools that do not (yet) support multi
file input for index files can be used transparently as if they did.</p>
<p>If a temporary index file is required then it is deleted once the
object is destroyed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The method returns the input keyword arguments with the necessary
changes to use the temporary index files.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Keywords:</th><td class="field-body"><p class="first">Only the listed keywords have meaning for the method:</p>
<dl class="docutils">
<dt><em>n</em> <span class="classifier-delimiter">:</span> <span class="classifier">filename or list of filenames</span></dt>
<dd><p class="first last">possibly multiple index files; <em>n</em> is replaced by the name of 
the temporary index file.</p>
</dd>
<dt><em>s</em> <span class="classifier-delimiter">:</span> <span class="classifier">filename</span></dt>
<dd><p class="first last">structure file (tpr, pdb, ...) or <tt class="xref docutils literal"><span class="pre">None</span></tt>; if a structure file is 
supplied then the Gromacs default index groups are automatically added
to the temporary indexs file.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field"><th class="field-name">Example:</th><td class="field-body"><p class="first">Used in derived classes that replace the standard
<a title="gromacs.tools.GromacsCommandMultiIndex.run" class="reference" href="tools.html#gromacs.tools.GromacsCommandMultiIndex.run"><tt class="xref docutils literal"><span class="pre">run()</span></tt></a> (or <a title="(in Python v2.6)" class="reference" href="http://docs.python.org/reference/datamodel.html#object.__init__"><tt class="xref docutils literal"><span class="pre">__init__()</span></tt></a>) methods with something like:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fake_multi_ndx</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>            
    <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">G_mindist</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gromacs.tools.GromacsCommandMultiIndex.__del__">
<tt class="descname">__del__</tt><big>(</big><big>)</big><a class="headerlink" href="#gromacs.tools.GromacsCommandMultiIndex.__del__" title="Permalink to this definition">¶</a></dt>
<dd>Clean up temporary multi-index files if they were used.</dd></dl>

</dd></dl>

<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>In this example we create two instances of the <a title="gromacs.tools.Trjconv" class="reference" href="tools.html#gromacs.tools.Trjconv"><tt class="xref docutils literal"><span class="pre">gromacs.tools.Trjconv</span></tt></a> command (which
runs the Gromacs <tt class="docutils literal"><span class="pre">trjconv</span></tt> command):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">gromacs.tools</span> <span class="kn">as</span> <span class="nn">tools</span>

<span class="n">trjconv</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">Trjconv</span><span class="p">()</span>
<span class="n">trjconv_compact</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">Trjconv</span><span class="p">(</span><span class="n">ur</span><span class="o">=</span><span class="s">&#39;compact&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">boxcenter</span><span class="o">=</span><span class="s">&#39;tric&#39;</span><span class="p">,</span> <span class="n">pbc</span><span class="o">=</span><span class="s">&#39;mol&#39;</span><span class="p">,</span>
                                <span class="nb">input</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;protein&#39;</span><span class="p">,</span><span class="s">&#39;system&#39;</span><span class="p">),</span>
                                <span class="n">doc</span><span class="o">=</span><span class="s">&quot;Returns a compact representation of the system centered on the protein&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The first one, <tt class="docutils literal"><span class="pre">trjconv</span></tt>, behaves as the standard commandline tool but the
second one, <tt class="docutils literal"><span class="pre">trjconv_compact</span></tt>, will by default create a compact
representation of the input data by taking into account the shape of the unit
cell. Of course, the same effect can be obtained by providing the corresponding
arguments to <tt class="docutils literal"><span class="pre">trjconv</span></tt> but by naming the more specific command differently
one can easily build up a library of small tools that will solve a specifi,
repeatedly encountered problem reliably. This is particularly helpful when doing
interactive work.</p>
</div>
<div class="section" id="gromacs-tools">
<h3>Gromacs tools<a class="headerlink" href="#gromacs-tools" title="Permalink to this headline">¶</a></h3>
<p>The documentation of all wrapped gromacs tools is auto-generated
and can be found in <a class="reference" href="tools.html"><em>Wrapped Gromacs Tools</em></a>. Here only
two examples (<a title="gromacs.tools.Mdrun" class="reference" href="tools.html#gromacs.tools.Mdrun"><tt class="xref docutils literal"><span class="pre">Mdrun</span></tt></a> and
<a title="gromacs.tools.GridMAT_MD" class="reference" href="tools.html#gromacs.tools.GridMAT_MD"><tt class="xref docutils literal"><span class="pre">GridMAT_MD</span></tt></a>) are shown.</p>
<dl class="class">
<dt id="gromacs.tools.Mdrun">
<em class="property">class </em><tt class="descclassname">gromacs.tools.</tt><tt class="descname">Mdrun</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.tools.Mdrun" title="Permalink to this definition">¶</a></dt>
<dd><p>Gromacs tool &#8216;mdrun&#8217;.</p>
<p>Set up the command with gromacs flags as keyword arguments.</p>
<p>The following  are generic instructions; refer  to the Gromacs
command  usage information  that should  have  appeared before
this generic documentation.</p>
<p>As an example, a generic Gromacs command could use the following flags:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cmd</span> <span class="o">=</span> <span class="n">GromacsCommand</span><span class="p">(</span><span class="s">&#39;v&#39;</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;md1.xtc&#39;</span><span class="p">,</span><span class="s">&#39;md2.xtc&#39;</span><span class="p">],</span> <span class="n">o</span><span class="o">=</span><span class="s">&#39;processed.xtc&#39;</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>which would correspond to running the command in the shell as</p>
<div class="highlight-python"><pre>GromacsCommand -v -f md1.xtc md2.xtc -o processed.xtc -t 200</pre>
</div>
<p><strong>Gromacs command line arguments</strong></p>
<blockquote>
<p>Gromacs boolean switches (such as <tt class="docutils literal"><span class="pre">-v</span></tt>) are given as python
positional arguments (<tt class="docutils literal"><span class="pre">'v'</span></tt>) or as keyword argument (<tt class="docutils literal"><span class="pre">v=True</span></tt>);
note the quotes in the first case. Negating a boolean switch can be
done with <tt class="docutils literal"><span class="pre">'nov'</span></tt>, <tt class="docutils literal"><span class="pre">nov=True</span></tt> or <tt class="docutils literal"><span class="pre">v=False</span></tt> (and even <tt class="docutils literal"><span class="pre">nov=False</span></tt>
works as expected: it is the same as <tt class="docutils literal"><span class="pre">v=True</span></tt>).</p>
<p>Any Gromacs options that take parameters are handled as keyword
arguments. If an option takes multiple arguments (such as the
multi-file input <tt class="docutils literal"><span class="pre">-f</span> <span class="pre">file1</span> <span class="pre">file2</span> <span class="pre">...</span></tt>) then the list of files must be
supplied as a python list.</p>
<p>If a keyword has the python value <tt class="xref docutils literal"><span class="pre">None</span></tt> then it will <em>not</em> be
added to the Gromacs command line; this allows for flexible
scripting if it is not known in advance if an input file is
needed. In this case the default value of the gromacs tool
is used.</p>
<p>Keywords must be legal python keywords or the interpreter raises a
<a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/exceptions.html#exceptions.SyntaxError"><tt class="xref docutils literal"><span class="pre">SyntaxError</span></tt></a> but of course Gromacs commandline arguments are
not required to be legal python. In this case &#8220;quote&#8221; the option
with an underscore (<tt class="docutils literal"><span class="pre">_</span></tt>) and the underscore will be silently
stripped. For instance, <tt class="docutils literal"><span class="pre">-or</span></tt> translates to the illegal keyword
<tt class="docutils literal"><span class="pre">or</span></tt> so it must be underscore-quoted:</p>
<div class="highlight-python"><pre>cmd(...., _or='mindistres.xvg')</pre>
</div>
</blockquote>
<p><strong>Command execution</strong></p>
<blockquote>
<p>The command is executed with the <tt class="xref docutils literal"><span class="pre">run()</span></tt> method or by
calling it as a function. The two next lines are equivalent:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cmd</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">cmd</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>When the command is run one can override options that were given at
initialization or one can add additional ones. The same rules for
supplying Gromacs flags apply as described above.</p>
</blockquote>
<p><strong>Non-Gromacs keyword arguments</strong></p>
<blockquote>
The other keyword arguments (listed below) are not passed on to the
Gromacs tool but determine how the command class behaves. They are
only useful when instantiating a class. This is mostly of interest
to developers.</blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Keywords:</th><td class="field-body"><dl class="first last docutils">
<dt><em>failure</em></dt>
<dd><p class="first">determines how a failure of the gromacs command is treated; it
can be one of the following:</p>
<dl class="last docutils">
<dt>&#8216;raise&#8217;</dt>
<dd><p class="first last">raises GromacsError if command fails</p>
</dd>
<dt>&#8216;warn&#8217;</dt>
<dd><p class="first last">issue a <tt class="xref docutils literal"><span class="pre">GromacsFailureWarning</span></tt></p>
</dd>
<dt><tt class="xref docutils literal"><span class="pre">None</span></tt></dt>
<dd><p class="first last">just continue silently</p>
</dd>
</dl>
</dd>
<dt><em>doc</em> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">additional documentation []</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="gromacs.tools.GridMAT_MD">
<em class="property">class </em><tt class="descclassname">gromacs.tools.</tt><tt class="descname">GridMAT_MD</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.tools.GridMAT_MD" title="Permalink to this definition">¶</a></dt>
<dd><p>External tool &#8216;GridMAT-MD.pl&#8217;</p>
<p>GridMAT-MD: A Grid-based Membrane Analysis Tool for use with Molecular Dynamics.</p>
<p><em>This</em> <tt class="docutils literal"><span class="pre">GridMAT-MD</span></tt> is a patched version of the original
<tt class="docutils literal"><span class="pre">GridMAT-MD.pl</span></tt> v1.0.2, written by WJ Allen, JA Lemkul and DR
Bevan. The original version is available from the <a class="reference" href="http://www.bevanlab.biochem.vt.edu/GridMAT-MD/index.html">GridMAT-MD</a> home
page,</p>
<p>Please cite</p>
<blockquote>
W. J. Allen, J. A. Lemkul, and D. R. Bevan. (2009) &#8220;GridMAT-MD: A
Grid-based Membrane Analysis Tool for Use With Molecular Dynamics.&#8221;
J. Comput. Chem. 30 (12): 1952-1958.</blockquote>
<p>when using this programme.</p>
<p>Usage:</p>
<dl class="class">
<dt id="gromacs.tools.GridMAT_MD.GridMAT_MD">
<em class="property">class </em><tt class="descname">GridMAT_MD</tt><big>(</big><em>config</em><span class="optional">[</span>, <em>structure</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#gromacs.tools.GridMAT_MD.GridMAT_MD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><em>config</em> : See the original documentation for a description for the
configuration file.</li>
<li><em>structure</em> : A gro or pdb file that overrides the value for
<em>bilayer</em> in the configuration file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>.</p>
<p>Set up the command class.</p>
<p>The arguments can always be provided as standard positional
arguments such as</p>
<blockquote>
<tt class="docutils literal"><span class="pre">&quot;-c&quot;,</span> <span class="pre">&quot;config.conf&quot;,</span> <span class="pre">&quot;-o&quot;,</span> <span class="pre">&quot;output.dat&quot;,</span> <span class="pre">&quot;--repeats=3&quot;,</span> <span class="pre">&quot;-v&quot;,</span> <span class="pre">&quot;input.dat&quot;</span></tt></blockquote>
<p>In addition one can also use keyword arguments such as</p>
<blockquote>
<tt class="docutils literal"><span class="pre">c=&quot;config.conf&quot;,</span> <span class="pre">o=&quot;output.dat&quot;,</span> <span class="pre">repeats=3,</span> <span class="pre">v=True</span></tt></blockquote>
<p>These are automatically transformed appropriately according to
simple rules:</p>
<ul class="simple">
<li>Any single-character keywords are assumed to be POSIX-style
options and will be prefixed with a single dash and the value
separated by a space.</li>
<li>Any other keyword is assumed to be a GNU-style long option
and thus will be prefixed with two dashes and the value will
be joined directly with an equals sign and no space.</li>
</ul>
<p>If this does not work (as for instance for the options of the
UNIX <tt class="docutils literal"><span class="pre">find</span></tt> command) then provide options and values in the
sequence of positional arguments.</p>
</dd></dl>

</div>
</div>
<div class="section" id="gromacs-formats-accessing-various-files">
<h2><tt class="xref docutils literal"><span class="pre">gromacs.formats</span></tt> &#8211; Accessing various files<a class="headerlink" href="#gromacs-formats-accessing-various-files" title="Permalink to this headline">¶</a></h2>
<p>This module contains classes that represent data files on
disk. Typically one creates an instance and</p>
<ul class="simple">
<li>reads from a file using a <tt class="xref docutils literal"><span class="pre">read()</span></tt> method, or</li>
<li>populates the instance (in the simplest case with a <a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/stdtypes.html#set"><tt class="xref docutils literal"><span class="pre">set()</span></tt></a>
method) and the uses the <tt class="xref docutils literal"><span class="pre">write()</span></tt> method to write the data to
disk in the appropriate format.</li>
</ul>
<p>For function data there typically also exists a <tt class="xref docutils literal"><span class="pre">plot()</span></tt> method
which produces a graph (using matplotlib).</p>
<p>The module defines some classes that are used in other modules; they
do <em>not</em> make use of <a title="" class="reference" href="tools.html#module-gromacs.tools"><tt class="xref docutils literal"><span class="pre">gromacs.tools</span></tt></a> or <a title="" class="reference" href="blocks/cbook.html#module-gromacs.cbook"><tt class="xref docutils literal"><span class="pre">gromacs.cbook</span></tt></a> and
can be safely imported at any time.</p>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="gromacs.formats.XVG">
<em class="property">class </em><tt class="descclassname">gromacs.formats.</tt><tt class="descname">XVG</tt><big>(</big><em>filename=None</em>, <em>names=None</em><big>)</big><a class="headerlink" href="#gromacs.formats.XVG" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that represents the numerical data in a grace xvg file.</p>
<p>All data must be numerical. <tt class="xref docutils literal"><span class="pre">NAN</span></tt> and <tt class="xref docutils literal"><span class="pre">INF</span></tt> values are
supported via python&#8217;s <a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/functions.html#float"><tt class="xref docutils literal"><span class="pre">float()</span></tt></a> builtin function.</p>
<p>The <a title="gromacs.formats.XVG.array" class="reference" href="#gromacs.formats.XVG.array"><tt class="xref docutils literal"><span class="pre">array</span></tt></a> attribute can be used to access the the
array once it has been read and parsed. The <a title="gromacs.formats.XVG.ma" class="reference" href="#gromacs.formats.XVG.ma"><tt class="xref docutils literal"><span class="pre">ma</span></tt></a>
attribute is a numpy masked array (good for plotting).</p>
<p>Conceptually, the file on disk and the XVG instance are considered the same
data. This means that whenever the filename for I/O (<a title="gromacs.formats.XVG.read" class="reference" href="#gromacs.formats.XVG.read"><tt class="xref docutils literal"><span class="pre">XVG.read()</span></tt></a> and
<a title="gromacs.formats.XVG.write" class="reference" href="#gromacs.formats.XVG.write"><tt class="xref docutils literal"><span class="pre">XVG.write()</span></tt></a>) is changed then the filename associated with the
instance is also changed to reflect the association between file and
instance.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Only simple XY or NXY files are currently supported, not
Grace files that contain multiple data sets separated by &#8216;&amp;&#8217;.</li>
<li>Any kind of formatting (xmgrace commands) are discarded.</li>
</ul>
</div>
<p>Initialize the class from a xvg file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Arguments:</th><td class="field-body"><dl class="first last docutils">
<dt><em>filename</em> </dt>
<dd><p class="first last">is the xvg file; it can only be of type XY or
NXY. If it is supplied then it is read and parsed
when <a title="gromacs.formats.XVG.array" class="reference" href="#gromacs.formats.XVG.array"><tt class="xref docutils literal"><span class="pre">XVG.array</span></tt></a> is accessed.</p>
</dd>
<dt><em>names</em></dt>
<dd><p class="first last">optional labels for the columns (currently only
written as comments to file); string with columns
separated by commas or a list of strings</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gromacs.formats.XVG.array">
<tt class="descname">array</tt><a class="headerlink" href="#gromacs.formats.XVG.array" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent xvg data as a (cached) numpy array.</p>
<p>The array is returned with column-first indexing, i.e. for a data file with
columns X Y1 Y2 Y3 ... the array a will be a[0] = X, a[1] = Y1, ... .</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.formats.XVG.errorbar">
<tt class="descname">errorbar</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.formats.XVG.errorbar" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick hack: errorbar plot.</p>
<p>Set columns to select [x, y, dy].</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.formats.XVG.ma">
<tt class="descname">ma</tt><a class="headerlink" href="#gromacs.formats.XVG.ma" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent data as a masked array.</p>
<p>The array is returned with column-first indexing, i.e. for a data file with
columns X Y1 Y2 Y3 ... the array a will be a[0] = X, a[1] = Y1, ... .</p>
<p>inf and nan are filtered via <tt class="xref docutils literal"><span class="pre">numpy.isfinite()</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.formats.XVG.max">
<tt class="descname">max</tt><a class="headerlink" href="#gromacs.formats.XVG.max" title="Permalink to this definition">¶</a></dt>
<dd>Maximum of the data columns.</dd></dl>

<dl class="attribute">
<dt id="gromacs.formats.XVG.mean">
<tt class="descname">mean</tt><a class="headerlink" href="#gromacs.formats.XVG.mean" title="Permalink to this definition">¶</a></dt>
<dd>Mean value of all data columns.</dd></dl>

<dl class="attribute">
<dt id="gromacs.formats.XVG.min">
<tt class="descname">min</tt><a class="headerlink" href="#gromacs.formats.XVG.min" title="Permalink to this definition">¶</a></dt>
<dd>Minimum of the data columns.</dd></dl>

<dl class="method">
<dt id="gromacs.formats.XVG.parse">
<tt class="descname">parse</tt><big>(</big><big>)</big><a class="headerlink" href="#gromacs.formats.XVG.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and cache the file as a numpy array.</p>
<p>The array is returned with column-first indexing, i.e. for a data file with
columns X Y1 Y2 Y3 ... the array a will be a[0] = X, a[1] = Y1, ... .</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.formats.XVG.plot">
<tt class="descname">plot</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.formats.XVG.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot xvg file data.</p>
<p>The first column of the data is always taken as the abscissa
X. Additional columns are plotted as ordinates Y1, Y2, ...</p>
<p>In the special case that there is only a single column then this column
is plotted against the index, i.e. (N, Y).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Keywords:</th><td class="field-body"><dl class="first last docutils">
<dt><em>columns</em> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd><p class="first last">Select the columns of the data to be plotted; the list
is used as a numpy.array extended slice. The default is
to use all columns. Columns are selected <em>after</em> a transform.</p>
</dd>
<dt><em>transform</em> <span class="classifier-delimiter">:</span> <span class="classifier">function</span></dt>
<dd><p class="first last">function <tt class="docutils literal"><span class="pre">transform(array)</span> <span class="pre">-&gt;</span> <span class="pre">array</span></tt> which transforms
the original array; must return a 2D numpy array of
shape [X, Y1, Y2, ...] where X, Y1, ... are column
vectors.  By default the transformation is the
identity [<tt class="docutils literal"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">x</span></tt>].</p>
</dd>
<dt><em>maxpoints</em> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">limit the total number of data points; matplotlib has issues processing
png files with &gt;100,000 points and pdfs take forever to display. Set to
<tt class="xref docutils literal"><span class="pre">None</span></tt> if really all data should be displayed. At the moment we simply
subsample the data at regular intervals. [10000]</p>
</dd>
<dt><em>kwargs</em></dt>
<dd><p class="first last">All other keyword arguments are passed on to <tt class="xref docutils literal"><span class="pre">pylab.plot()</span></tt>.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gromacs.formats.XVG.read">
<tt class="descname">read</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#gromacs.formats.XVG.read" title="Permalink to this definition">¶</a></dt>
<dd>Read and parse xvg file <em>filename</em>.</dd></dl>

<dl class="method">
<dt id="gromacs.formats.XVG.set">
<tt class="descname">set</tt><big>(</big><em>a</em><big>)</big><a class="headerlink" href="#gromacs.formats.XVG.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the <em>array</em> data from <em>a</em> (i.e. completely replace).</p>
<p>No sanity checks at the moment...</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.formats.XVG.std">
<tt class="descname">std</tt><a class="headerlink" href="#gromacs.formats.XVG.std" title="Permalink to this definition">¶</a></dt>
<dd>Standard deviation from the mean of all data columns.</dd></dl>

<dl class="method">
<dt id="gromacs.formats.XVG.write">
<tt class="descname">write</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#gromacs.formats.XVG.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write array to xvg file <em>filename</em> in NXY format.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only plain files working at the moment, not compressed.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.formats.NDX">
<em class="property">class </em><tt class="descclassname">gromacs.formats.</tt><tt class="descname">NDX</tt><big>(</big><em>filename=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.formats.NDX" title="Permalink to this definition">¶</a></dt>
<dd><p>Gromacs index file.</p>
<p>Represented as a ordered dict where the keys are index group names and
values are numpy arrays of atom numbers.</p>
<p>Use the <a title="gromacs.formats.NDX.read" class="reference" href="#gromacs.formats.NDX.read"><tt class="xref docutils literal"><span class="pre">NDX.read()</span></tt></a> and <a title="gromacs.formats.NDX.write" class="reference" href="#gromacs.formats.NDX.write"><tt class="xref docutils literal"><span class="pre">NDX.write()</span></tt></a> methods for
I/O. Access groups by name via the <a title="gromacs.formats.NDX.get" class="reference" href="#gromacs.formats.NDX.get"><tt class="xref docutils literal"><span class="pre">NDX.get()</span></tt></a> and
<a title="gromacs.formats.NDX.set" class="reference" href="#gromacs.formats.NDX.set"><tt class="xref docutils literal"><span class="pre">NDX.set()</span></tt></a> methods.</p>
<p>Alternatively, simply treat the <a title="gromacs.formats.NDX" class="reference" href="#gromacs.formats.NDX"><tt class="xref docutils literal"><span class="pre">NDX</span></tt></a> instance as a
dictionary. Setting a key automatically transforms the new value
into a integer 1D numpy array (<em>not</em> a set, as would be the
<strong>make_ndx</strong> behaviour).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The index entries themselves are ordered and can contain 
duplicates so that output from NDX can be easily used for 
<strong>g_dih</strong> and friends. If you need set-like behaviour
you will have do use <a title="gromacs.formats.uniqueNDX" class="reference" href="#gromacs.formats.uniqueNDX"><tt class="xref docutils literal"><span class="pre">gromacs.formats.uniqueNDX</span></tt></a> or
<a title="gromacs.cbook.IndexBuilder" class="reference" href="blocks/cbook.html#gromacs.cbook.IndexBuilder"><tt class="xref docutils literal"><span class="pre">gromacs.cbook.IndexBuilder</span></tt></a> (which uses
<strong>make_ndx</strong> throughout).</p>
</div>
<p><strong>Example</strong></p>
<blockquote>
<p>Read index file, make new group and write to disk:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ndx</span> <span class="o">=</span> <span class="n">NDX</span><span class="p">()</span>
<span class="n">ndx</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;system.ndx&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">ndx</span><span class="p">[</span><span class="s">&#39;Protein&#39;</span><span class="p">]</span>       
<span class="n">ndx</span><span class="p">[</span><span class="s">&#39;my_group&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>   <span class="c"># add new group</span>
<span class="n">ndx</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;new.ndx&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or quicker (replacing the input file <tt class="docutils literal"><span class="pre">system.ndx</span></tt>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ndx</span> <span class="o">=</span> <span class="n">NDX</span><span class="p">(</span><span class="s">&#39;system&#39;</span><span class="p">)</span>          <span class="c"># suffix .ndx is automatically added</span>
<span class="n">ndx</span><span class="p">[</span><span class="s">&#39;chi1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">ndx</span><span class="o">.</span><span class="n">write</span><span class="p">()</span>
</pre></div>
</div>
</blockquote>
<dl class="attribute">
<dt id="gromacs.formats.NDX.format">
<tt class="descname">format</tt><a class="headerlink" href="#gromacs.formats.NDX.format" title="Permalink to this definition">¶</a></dt>
<dd>standard ndx file format: &#8216;%6d&#8217;</dd></dl>

<dl class="method">
<dt id="gromacs.formats.NDX.get">
<tt class="descname">get</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#gromacs.formats.NDX.get" title="Permalink to this definition">¶</a></dt>
<dd>Return index array for index group <em>name</em>.</dd></dl>

<dl class="attribute">
<dt id="gromacs.formats.NDX.groups">
<tt class="descname">groups</tt><a class="headerlink" href="#gromacs.formats.NDX.groups" title="Permalink to this definition">¶</a></dt>
<dd>Return a list of all groups.</dd></dl>

<dl class="attribute">
<dt id="gromacs.formats.NDX.ncol">
<tt class="descname">ncol</tt><a class="headerlink" href="#gromacs.formats.NDX.ncol" title="Permalink to this definition">¶</a></dt>
<dd>standard ndx file format: 15 columns</dd></dl>

<dl class="attribute">
<dt id="gromacs.formats.NDX.ndxlist">
<tt class="descname">ndxlist</tt><a class="headerlink" href="#gromacs.formats.NDX.ndxlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of groups in the same format as  <a title="gromacs.cbook.get_ndx_groups" class="reference" href="blocks/cbook.html#gromacs.cbook.get_ndx_groups"><tt class="xref docutils literal"><span class="pre">gromacs.cbook.get_ndx_groups()</span></tt></a>.</p>
<dl class="docutils">
<dt>Format:</dt>
<dd>[ {&#8216;name&#8217;: group_name, &#8216;natoms&#8217;: number_atoms, &#8216;nr&#8217;:  # group_number}, ....]</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gromacs.formats.NDX.read">
<tt class="descname">read</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#gromacs.formats.NDX.read" title="Permalink to this definition">¶</a></dt>
<dd>Read and parse index file <em>filename</em>.</dd></dl>

<dl class="method">
<dt id="gromacs.formats.NDX.set">
<tt class="descname">set</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="headerlink" href="#gromacs.formats.NDX.set" title="Permalink to this definition">¶</a></dt>
<dd>Set or add group <em>name</em> as a 1D numpy array.</dd></dl>

<dl class="method">
<dt id="gromacs.formats.NDX.size">
<tt class="descname">size</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#gromacs.formats.NDX.size" title="Permalink to this definition">¶</a></dt>
<dd>Return number of entries for group <em>name</em>.</dd></dl>

<dl class="attribute">
<dt id="gromacs.formats.NDX.sizes">
<tt class="descname">sizes</tt><a class="headerlink" href="#gromacs.formats.NDX.sizes" title="Permalink to this definition">¶</a></dt>
<dd>Return a dict with group names and number of entries,</dd></dl>

<dl class="method">
<dt id="gromacs.formats.NDX.write">
<tt class="descname">write</tt><big>(</big><em>filename=None</em>, <em>ncol=15</em>, <em>format='%6d'</em><big>)</big><a class="headerlink" href="#gromacs.formats.NDX.write" title="Permalink to this definition">¶</a></dt>
<dd>Write index file to <em>filename</em> (or overwrite the file that the index was read from)</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.formats.uniqueNDX">
<em class="property">class </em><tt class="descclassname">gromacs.formats.</tt><tt class="descname">uniqueNDX</tt><big>(</big><em>filename=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.formats.uniqueNDX" title="Permalink to this definition">¶</a></dt>
<dd><p>Index that behaves like make_ndx, i.e. entries behaves as sets,
not lists.</p>
<p>The index lists behave like sets:
- adding sets with &#8216;+&#8217; is equivalent to a logical OR: x + y == &#8220;x | y&#8221;
- subtraction &#8216;-&#8216; is AND: x - y == &#8220;x &amp; y&#8221;
- see <tt class="xref docutils literal"><span class="pre">join()</span></tt> for ORing multiple groups (x+y+z+...)</p>
<dl class="docutils">
<dt><strong>Example</strong> ::</dt>
<dd>I = uniqueNDX(&#8216;system.ndx&#8217;)
I[&#8216;SOLVENT&#8217;] = I[&#8216;SOL&#8217;] + I[&#8216;NA+&#8217;] + I[&#8216;CL-&#8216;]</dd>
</dl>
<dl class="method">
<dt id="gromacs.formats.uniqueNDX.join">
<tt class="descname">join</tt><big>(</big><em>*groupnames</em><big>)</big><a class="headerlink" href="#gromacs.formats.uniqueNDX.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an index group that contains atoms from all  <em>groupnames</em>.</p>
<p>The method will silently ignore any groups that are not in the
index.</p>
<p><strong>Example</strong></p>
<p>Always make a solvent group from water and ions, even if not
all ions are present in all simulations:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">I</span><span class="p">[</span><span class="s">&#39;SOLVENT&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">I</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;SOL&#39;</span><span class="p">,</span> <span class="s">&#39;NA+&#39;</span><span class="p">,</span> <span class="s">&#39;K+&#39;</span><span class="p">,</span> <span class="s">&#39;CL-&#39;</span><span class="p">)</span>        
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.formats.GRO">
<em class="property">class </em><tt class="descclassname">gromacs.formats.</tt><tt class="descname">GRO</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.formats.GRO" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that represents a GROMOS (gro) structure file.</p>
<p>File format:</p>
<p>(Not implemented yet)</p>
<dl class="method">
<dt id="gromacs.formats.GRO.read">
<tt class="descname">read</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#gromacs.formats.GRO.read" title="Permalink to this definition">¶</a></dt>
<dd>Read and parse index file <em>filename</em>.</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="gromacs-utilities-helper-functions-and-classes">
<h2><tt class="xref docutils literal"><span class="pre">gromacs.utilities</span></tt> &#8211; Helper functions and classes<a class="headerlink" href="#gromacs-utilities-helper-functions-and-classes" title="Permalink to this headline">¶</a></h2>
<p>The module defines some convenience functions and classes that are
used in other modules; they do <em>not</em> make use of <a title="" class="reference" href="tools.html#module-gromacs.tools"><tt class="xref docutils literal"><span class="pre">gromacs.tools</span></tt></a>
or <a title="" class="reference" href="blocks/cbook.html#module-gromacs.cbook"><tt class="xref docutils literal"><span class="pre">gromacs.cbook</span></tt></a> and can be safely imported at any time.</p>
<div class="section" id="id1">
<h3>Classes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><a title="gromacs.utilities.FileUtils" class="reference" href="#gromacs.utilities.FileUtils"><tt class="xref docutils literal"><span class="pre">FileUtils</span></tt></a> provides functions related to filename handling. It
can be used as a base or mixin class. The <a title="gromacs.analysis.Simulation" class="reference" href="../analysis/core.html#gromacs.analysis.Simulation"><tt class="xref docutils literal"><span class="pre">gromacs.analysis.Simulation</span></tt></a>
class is derived from it.</p>
<dl class="class">
<dt id="gromacs.utilities.FileUtils">
<em class="property">class </em><tt class="descclassname">gromacs.utilities.</tt><tt class="descname">FileUtils</tt><a class="headerlink" href="#gromacs.utilities.FileUtils" title="Permalink to this definition">¶</a></dt>
<dd><p>Mixin class to provide additional file-related capabilities.</p>
<dl class="method">
<dt id="gromacs.utilities.FileUtils.check_file_exists">
<tt class="descname">check_file_exists</tt><big>(</big><em>filename</em>, <em>resolve='exception'</em>, <em>force=None</em><big>)</big><a class="headerlink" href="#gromacs.utilities.FileUtils.check_file_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>If a file exists then continue with the action specified in <tt class="docutils literal"><span class="pre">resolve</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">resolve</span></tt> must be one of</p>
<dl class="docutils">
<dt>&#8220;ignore&#8221;</dt>
<dd>always return <tt class="xref docutils literal"><span class="pre">False</span></tt></dd>
<dt>&#8220;indicate&#8221;</dt>
<dd>return <tt class="xref docutils literal"><span class="pre">True</span></tt> if it exists</dd>
<dt>&#8220;warn&#8221;</dt>
<dd>indicate and issue a <a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/exceptions.html#exceptions.UserWarning"><tt class="xref docutils literal"><span class="pre">UserWarning</span></tt></a></dd>
<dt>&#8220;exception&#8221;</dt>
<dd>raise <a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/exceptions.html#exceptions.IOError"><tt class="xref docutils literal"><span class="pre">IOError</span></tt></a> if it exists</dd>
</dl>
<p>Alternatively, set <em>force</em> for the following behaviour (which
ignores <em>resolve</em>):</p>
<dl class="docutils">
<dt><tt class="xref docutils literal"><span class="pre">True</span></tt></dt>
<dd>same as <em>resolve</em> = &#8220;ignore&#8221; (will allow overwriting of files)</dd>
<dt><tt class="xref docutils literal"><span class="pre">False</span></tt></dt>
<dd>same as <em>resolve</em> = &#8220;exception&#8221; (will prevent overwriting of files)</dd>
<dt><tt class="xref docutils literal"><span class="pre">None</span></tt></dt>
<dd>ignored, do whatever <em>resolve</em> says</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.utilities.FileUtils.default_extension">
<tt class="descname">default_extension</tt><a class="headerlink" href="#gromacs.utilities.FileUtils.default_extension" title="Permalink to this definition">¶</a></dt>
<dd>Default extension for files read/written by this class.</dd></dl>

<dl class="method">
<dt id="gromacs.utilities.FileUtils.filename">
<tt class="descname">filename</tt><big>(</big><em>filename=None</em>, <em>ext=None</em>, <em>set_default=False</em>, <em>use_my_ext=False</em><big>)</big><a class="headerlink" href="#gromacs.utilities.FileUtils.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Supply a file name for the class object.</p>
<p>Typical uses:</p>
<div class="highlight-python"><pre>fn = filename()             ---&gt; &lt;default_filename&gt;
fn = filename('name.ext')   ---&gt; 'name'
fn = filename(ext='pickle') ---&gt; &lt;default_filename&gt;'.pickle'
fn = filename('name.inp','pdf') --&gt; 'name.pdf'
fn = filename('foo.pdf',ext='png',use_my_ext=True) --&gt; 'foo.pdf'</pre>
</div>
<p>The returned filename is stripped of the extension
(<tt class="docutils literal"><span class="pre">use_my_ext=False</span></tt>) and if provided, another extension is
appended. Chooses a default if no filename is given.</p>
<p>Raises a <tt class="docutils literal"><span class="pre">ValueError</span></tt> exception if no default file name is known.</p>
<p>If <tt class="docutils literal"><span class="pre">set_default=True</span></tt> then the default filename is also set.</p>
<p><tt class="docutils literal"><span class="pre">use_my_ext=True</span></tt> lets the suffix of a provided filename take
priority over a default <tt class="docutils literal"><span class="pre">ext</span></tt> tension.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.utilities.FileUtils.infix_filename">
<tt class="descname">infix_filename</tt><big>(</big><em>name</em>, <em>default</em>, <em>infix</em>, <em>ext=None</em><big>)</big><a class="headerlink" href="#gromacs.utilities.FileUtils.infix_filename" title="Permalink to this definition">¶</a></dt>
<dd>Unless <em>name</em> is provided, insert <em>infix</em> before the extension <em>ext</em> of <em>default</em>.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.utilities.AttributeDict">
<em class="property">class </em><tt class="descclassname">gromacs.utilities.</tt><tt class="descname">AttributeDict</tt><a class="headerlink" href="#gromacs.utilities.AttributeDict" title="Permalink to this definition">¶</a></dt>
<dd>A dictionary with pythonic access to keys as attributes &#8212; useful for interactive work.</dd></dl>

<dl class="class">
<dt id="gromacs.utilities.Timedelta">
<em class="property">class </em><tt class="descclassname">gromacs.utilities.</tt><tt class="descname">Timedelta</tt><a class="headerlink" href="#gromacs.utilities.Timedelta" title="Permalink to this definition">¶</a></dt>
<dd><p>Extension of <a title="(in Python v2.6)" class="reference" href="http://docs.python.org/library/datetime.html#datetime.timedelta"><tt class="xref docutils literal"><span class="pre">datetime.timedelta</span></tt></a>.</p>
<p>Provides attributes ddays, dhours, dminutes, dseconds to measure
the delta in normal time units.</p>
<p>ashours gives the total time in fractional hours.</p>
</dd></dl>

</div>
<div class="section" id="id2">
<h3>Functions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Some additional convenience functions that deal with files and
directories:</p>
<dl class="function">
<dt id="gromacs.utilities.openany">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">openany</tt><big>(</big><em>directory</em><span class="optional">[</span>, <em>mode='r'</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#gromacs.utilities.openany" title="Permalink to this definition">¶</a></dt>
<dd>Context manager to open a compressed (bzip2, gzip) or plain file
(uses <a title="gromacs.utilities.anyopen" class="reference" href="#gromacs.utilities.anyopen"><tt class="xref docutils literal"><span class="pre">anyopen()</span></tt></a>).</dd></dl>

<dl class="function">
<dt id="gromacs.utilities.anyopen">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">anyopen</tt><big>(</big><em>datasource</em>, <em>mode='r'</em><big>)</big><a class="headerlink" href="#gromacs.utilities.anyopen" title="Permalink to this definition">¶</a></dt>
<dd><p>Open datasource (gzipped, bzipped, uncompressed) and return a stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Arguments:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><em>datasource</em>: a file or a stream</li>
<li><em>mode</em>: &#8216;r&#8217; or &#8216;w&#8217;</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="gromacs.utilities.realpath">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">realpath</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#gromacs.utilities.realpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Join all args and return the real path, rooted at /.</p>
<p>Returns <tt class="xref docutils literal"><span class="pre">None</span></tt> if any of the args is none.</p>
</dd></dl>

<dl class="function">
<dt id="gromacs.utilities.in_dir">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">in_dir</tt><big>(</big><em>directory</em><span class="optional">[</span>, <em>create=True</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#gromacs.utilities.in_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager to execute a code block in a directory.</p>
<ul class="simple">
<li>The <em>directory</em> is created if it does not exist (unless
<em>create</em> = <tt class="xref docutils literal"><span class="pre">False</span></tt> is set)</li>
<li>At the end or after an exception code always returns to
the directory that was the current directory before entering
the block.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="gromacs.utilities.find_first">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">find_first</tt><big>(</big><em>filename</em>, <em>suffices=None</em><big>)</big><a class="headerlink" href="#gromacs.utilities.find_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Find first <em>filename</em> with a suffix from <em>suffices</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Arguments:</th><td class="field-body"><dl class="first docutils">
<dt><em>filename</em></dt>
<dd><p class="first last">base filename; this file name is checked first</p>
</dd>
<dt><em>suffices</em></dt>
<dd><p class="first last">list of suffices that are tried in turn on the root of <em>filename</em>; can contain the 
ext separator (<tt class="xref docutils literal"><span class="pre">os.path.extsep</span></tt>) or not</p>
</dd>
</dl>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The first match or <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gromacs.utilities.withextsep">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">withextsep</tt><big>(</big><em>extensions</em><big>)</big><a class="headerlink" href="#gromacs.utilities.withextsep" title="Permalink to this definition">¶</a></dt>
<dd>Return list in which each element is guaranteed to start with <tt class="xref docutils literal"><span class="pre">os.path.extsep</span></tt>.</dd></dl>

<p>Functions that improve list processing and which do <em>not</em> treat
strings as lists:</p>
<dl class="function">
<dt id="gromacs.utilities.iterable">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">iterable</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#gromacs.utilities.iterable" title="Permalink to this definition">¶</a></dt>
<dd>Returns <tt class="xref docutils literal"><span class="pre">True</span></tt> if <em>obj</em> can be iterated over and is <em>not</em> a  string.</dd></dl>

<dl class="function">
<dt id="gromacs.utilities.asiterable">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">asiterable</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#gromacs.utilities.asiterable" title="Permalink to this definition">¶</a></dt>
<dd>Returns obj so that it can be iterated over; a string is <em>not</em> treated as iterable</dd></dl>

<p>Functions that help handling Gromacs files:</p>
<dl class="function">
<dt id="gromacs.utilities.unlink_f">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">unlink_f</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#gromacs.utilities.unlink_f" title="Permalink to this definition">¶</a></dt>
<dd>Unlink path but do not complain if file does not exist.</dd></dl>

<dl class="function">
<dt id="gromacs.utilities.unlink_gmx">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">unlink_gmx</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#gromacs.utilities.unlink_gmx" title="Permalink to this definition">¶</a></dt>
<dd>Unlink (remove) Gromacs file(s) and all corresponding backups.</dd></dl>

<dl class="function">
<dt id="gromacs.utilities.unlink_gmx_backups">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">unlink_gmx_backups</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#gromacs.utilities.unlink_gmx_backups" title="Permalink to this definition">¶</a></dt>
<dd>Unlink (rm) all backup files corresponding to the listed files.</dd></dl>

<dl class="function">
<dt id="gromacs.utilities.number_pdbs">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">number_pdbs</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.utilities.number_pdbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename pdbs x1.pdb ... x345.pdb &#8211;&gt; x0001.pdb ... x0345.pdb</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><em>args</em>: filenames or glob patterns (such as &#8220;pdb/md*.pdb&#8221;)</li>
<li><em>format</em>: format string including keyword <em>num</em> [&#8220;%(num)04d&#8221;]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Functions that make working with <a class="reference" href="http://matplotlib.sourceforge.net/">matplotlib</a> easier:</p>
<dl class="function">
<dt id="gromacs.utilities.activate_subplot">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">activate_subplot</tt><big>(</big><em>numPlot</em><big>)</big><a class="headerlink" href="#gromacs.utilities.activate_subplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Make subplot <em>numPlot</em> active on the canvas.</p>
<p>Use this if a simple <tt class="docutils literal"><span class="pre">subplot(numRows,</span> <span class="pre">numCols,</span> <span class="pre">numPlot)</span></tt>
overwrites the subplot instead of activating it.</p>
</dd></dl>

<dl class="function">
<dt id="gromacs.utilities.remove_legend">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">remove_legend</tt><big>(</big><em>ax=None</em><big>)</big><a class="headerlink" href="#gromacs.utilities.remove_legend" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove legend for axes or gca.</p>
<p>See <a class="reference" href="http://osdir.com/ml/python.matplotlib.general/2005-07/msg00285.html">http://osdir.com/ml/python.matplotlib.general/2005-07/msg00285.html</a></p>
</dd></dl>

<p>Miscellaneous functions:</p>
<dl class="function">
<dt id="gromacs.utilities.convert_aa_code">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">convert_aa_code</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#gromacs.utilities.convert_aa_code" title="Permalink to this definition">¶</a></dt>
<dd>Converts between 3-letter and 1-letter amino acid codes.</dd></dl>

</div>
<div class="section" id="data">
<h3>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="gromacs.utilities.amino_acid_codes">
<tt class="descclassname">gromacs.utilities.</tt><tt class="descname">amino_acid_codes</tt><a class="headerlink" href="#gromacs.utilities.amino_acid_codes" title="Permalink to this definition">¶</a></dt>
<dd>translation table for 1-letter codes &#8211;&gt; 3-letter codes
.. Note: This does not work for HISB and non-default charge state aa!</dd></dl>

</div>
</div>
<p>Related contents:</p>
<ul>
<li class="toctree-l1"><a class="reference" href="tools.html">Wrapped Gromacs tools</a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference" href="#">Gromacs core modules</a><ul>
<li><a class="reference" href="#gromacs-core-core-functionality"><tt class="docutils literal"><span class="pre">gromacs.core</span></tt> &#8211; Core functionality</a></li>
<li><a class="reference" href="#gromacs-config-configuration-for-gromacswrapper"><tt class="docutils literal"><span class="pre">gromacs.config</span></tt> &#8211; Configuration for GromacsWrapper</a><ul>
<li><a class="reference" href="#logging">Logging</a></li>
<li><a class="reference" href="#gromacs-tools-and-scripts">Gromacs tools and scripts</a></li>
<li><a class="reference" href="#location-of-template-files">Location of template files</a></li>
<li><a class="reference" href="#functions">Functions</a></li>
</ul>
</li>
<li><a class="reference" href="#gromacs-tools-gromacs-commands-classes"><tt class="docutils literal"><span class="pre">gromacs.tools</span></tt> &#8211; Gromacs commands classes</a><ul>
<li><a class="reference" href="#example">Example</a></li>
<li><a class="reference" href="#gromacs-tools">Gromacs tools</a></li>
</ul>
</li>
<li><a class="reference" href="#gromacs-formats-accessing-various-files"><tt class="docutils literal"><span class="pre">gromacs.formats</span></tt> &#8211; Accessing various files</a><ul>
<li><a class="reference" href="#classes">Classes</a></li>
</ul>
</li>
<li><a class="reference" href="#gromacs-utilities-helper-functions-and-classes"><tt class="docutils literal"><span class="pre">gromacs.utilities</span></tt> &#8211; Helper functions and classes</a><ul>
<li><a class="reference" href="#id1">Classes</a></li>
<li><a class="reference" href="#id2">Functions</a></li>
<li><a class="reference" href="#data">Data</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="init.html"
                                  title="previous chapter"><tt class="docutils literal docutils literal"><span class="pre">gromacs</span></tt> &#8211; GromacsWrapper Package Overview</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="tools.html"
                                  title="next chapter">Wrapped Gromacs tools</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/gromacs/core.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tools.html" title="Wrapped Gromacs tools"
             >next</a> |</li>
        <li class="right" >
          <a href="init.html" title="gromacs – GromacsWrapper Package Overview"
             >previous</a> |</li>
        <li><a href="../index.html">GromacsWrapper v0.1.8 documentation</a> &raquo;</li>
          <li><a href="../gromacs.html" >Gromacs package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009-2010, Oliver Beckstein.
      Last updated on Mar 24, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
    </div>
  </body>
</html>